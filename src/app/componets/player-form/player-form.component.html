<div class="card">
    <div class="card-header">
        <strong>Crear jugador</strong>
    </div>
    <div class="card-body">
        @if (formPlayer) {
        <form [formGroup]="formPlayer">
            <div class="form-group">
                <label for="dni">Cedula:</label>
                <input id="dni" type="text" name="dni" class="form-control" placeholder="Cedula" formControlName="dni"
                    [class.is-invalid]="formPlayer.get('dni')?.errors && formPlayer.get('dni')?.touched"
                    maxlength="10">
                @if (formPlayer.get('dni')?.hasError('required') && formPlayer.get('dni')?.touched) {
                <span class="text-danger">Campo obligatorio.</span>
                }
                @if (formPlayer.get('dni')?.hasError('minlength') && formPlayer.get('dni')?.touched) {
                <span class="text-danger">Deben ser 10 digitos.</span>
                }
            </div>

            <div class="form-group">
                <label for="name">Nombre:</label>
                <input id="name" type="text" name="name" class="form-control" placeholder="Nombre"
                    formControlName="name"
                    [class.is-invalid]="formPlayer.get('name')?.errors && formPlayer.get('name')?.touched">
                @if (formPlayer.get('name')?.hasError('required') && formPlayer.get('name')?.touched) {
                <span class="text-danger">Campo obligatorio.</span>
                }
                @if (formPlayer.get('name')?.hasError('maxlength') && formPlayer.get('name')?.touched) {
                <span class="text-danger">Maximo 50 caracteres.</span>
                }
            </div>

            <div class="form-group">
                <label for="surname">Apellido:</label>
                <input id="surname" type="text" name="surname" class="form-control" placeholder="Apellido"
                    formControlName="surname"
                    [class.is-invalid]="formPlayer.get('surname')?.errors && formPlayer.get('surname')?.touched">
                @if (formPlayer.get('surname')?.hasError('required') && formPlayer.get('surname')?.touched) {
                <span class="text-danger">Campo obligatorio.</span>
                }
                @if (formPlayer.get('surname')?.hasError('maxlength')) {
                <span class="text-danger">Maximo 50 caracteres.</span>
                }
            </div>

            <div class="form-group">
                <label for="birth">Fecha de nacimiento:</label>
                <input id="birth" type="date" name="birth" class="form-control"
                    formControlName="birth"
                    [class.is-invalid]="formPlayer.get('birth')?.errors && formPlayer.get('birth')?.touched">
                @if (formPlayer.get('birth')?.hasError('required') && formPlayer.get('birth')?.touched) {
                    <span class="text-danger">Campo obligatorio.</span>
                }
                @if (formPlayer.get('birth')?.hasError('birthDateGreater')) {
                    <span class="text-danger">La fecha de nacimiento debe ser menor a la fecha actual.</span>
                }


            </div>

            <div class="form-group">
                <label for="email">Correo:</label>
                <input id="email" type="email" name="email" class="form-control" placeholder="Correo"
                    formControlName="email"
                    [class.is-invalid]="formPlayer.get('email')?.errors && formPlayer.get('email')?.touched">
                @if (formPlayer.get('email')?.hasError('required') && formPlayer.get('email')?.touched) {
                <span class="text-danger">Campo obligatorio.</span>
                }
                @if (formPlayer.get('email')?.hasError('email') && formPlayer.get('email')?.touched) {
                <span class="text-danger">Correo invalido.</span>
                }
            </div>

            <div class="form-group">
                <label for="phone">Telefono:</label>
                <input id="phone" type="number" name="phone" class="form-control" placeholder="Telefono"
                    formControlName="phone">
            </div>
        </form>
        }
    </div>
    <div class="card-footer">
        @if (this.player) {
            <button type="submit" class="btn btn-info" (click)="savePlayer()">Editar</button>
        } @else {
            <button type="submit" class="btn btn-primary" (click)="savePlayer()">Crear</button>
        }
        <button type="button" class="btn btn-secondary" (click)="this.dialogRef.close(false)">Cancelar</button>
    </div>
</div>